<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="shortcut icon" type="imagex/png" href="img/logo_polybalas.ico">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <title>POLYBALAS</title>
</head>

<body>
    <header>
        <nav class="dp-menu">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="form_roteiro.html">Roteirização</a></li>
                <li><a href="form_agenda.html">Agendas Supervisores</a></li>
                <li><a href="form_vendedor_solicitacao.html">Modificação de Vendedores</a></li>
            </ul>
        </nav>
    </header>
    <div class="contenedor-formulario">
        <div class="wrap">
            <form action="https://api.sheetmonkey.io/form/u5JF8eFUTMaBwCVHGKeRkt" class="formulario"
                name="formulario_registro" method="post" id="formRegistro">
                <div>

                    <div class="input-group">
                        <label for="codigoCliente">Código do Cliente:</label>
                        <input type="number" id="codigoCliente" name="codigoCliente" min="1" max="999999" required>
                    </div>

                    <div class="input-group">
                        <label for="razaoSocial">Razão Social do Cliente:</label>
                        <input type="text" id="razaoSocial" name="razaoSocial" pattern="[A-Za-z0-9\- ]{10,45}" required
                            oninput="this.value = this.value.toUpperCase()">
                    </div>

                    <div class="input-group">
                        <label for="codigoVendedor">Código do Vendedor:</label>
                        <input type="number" id="codigoVendedor" name="codigoVendedor" min="1" max="999999" required>
                    </div>

                    <div class="input-group">
                        <label for="nomeVendedor">Vendedor:</label>
                        <input type="text" id="nomeVendedor" name="nomeVendedor" pattern="[A-Za-z0-9\- ]{10,45}"
                            requiredoninput="this.value = this.value.toUpperCase()">
                    </div>

                    <div class="input-group">
                        <label for="rotaVendedor">Rota:</label>
                        <input type="text" id="rotaVendedor" name="rotaVendedor" minlength="5" maxlength="5" required
                            pattern="[A-Za-z]{2}-[0-9]{2}" oninput="formatarRota(this)">
                    </div>
                    <script>
                        function formatarRota(input) {
                            // Transforma todo o texto em maiúsculas
                            input.value = input.value.toUpperCase();

                            // Garante que o campo tenha no máximo 5 caracteres
                            if (input.value.length > 5) {
                                input.value = input.value.substring(0, 5);
                            }

                            // Insere o hífen após as duas primeiras letras
                            if (input.value.length == 2 && input.value.charAt(2) !== '-') {
                                input.value = input.value.substring(0, 2) + '-' + input.value.substring(2);
                            }
                        }
                    </script>
                    <div class="input-group">
                        <label for="diaVisita">Dia de Visita:</label>
                        <input type="date" id="diaVisita" name="diaVisita" required>
                    </div>

                    <div class="input-group">
                        <label for="modeloVisita">Modelo de Visita:</label>
                        <div class="modelo-visita">
                            <label for="visita1">1/3</label>
                            <input type="radio" id="visita1" name="modeloVisita" value="1/3" required>
                            <label for="visita2">2/4</label>
                            <input type="radio" id="visita2" name="modeloVisita" value="2/4">
                            <label for="visitaSemanal">Semanal</label>
                            <input type="radio" id="visitaSemanal" name="modeloVisita" value="Semanal">
                            <label for="visitaDiario">Diario</label>
                            <input type="radio" id="visitaDiario" name="modeloVisita" value="Diario">
                        </div>

                        <div class="input-group">
                            <label for="observacaoalteracao">Alteração de Roteiro:</label>
                            <input type="text" id="observacaoalteracao" name="observacaoalteracao"
                                pattern="[A-Za-z0-9\-]{10,45}" minlength="5" maxlength="45"
                                oninput="this.value = this.value.toUpperCase()">
                        </div>
                        <input type="hidden" id="dataHoraEnvio" name="dataHoraEnvio">
                        <input type="submit" id="btn-submit" value="Enviar">
                    </div>
            </form>
        </div>
        <div class="icon-container">
            <a href="https://wa.me/message/LL3NLMNAPYGOI1"><img src="img/icone_whatsapp.png" alt="Ícone 1" width="45"></a>
            <a href="mailto:arthur.nobrega@polybalas.com"><img src="img/icone_email.png" alt="ícone 2" width="45"></a>
        </div>
    </div>
    <script src="js/formulario.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Adiciona um ouvinte de evento para o envio do formulário
            document.getElementById('formRegistro').addEventListener('submit', function () {
                // Obtém a data e hora atual no fuso horário de Brasília
                var dataHoraAtualBrasilia = new Date().toLocaleString('en-US', { timeZone: 'America/Sao_Paulo' });

                // Cria campos ocultos para armazenar a data e hora de envio
                var inputDataHora = document.createElement('input');
                inputDataHora.type = 'hidden';
                inputDataHora.name = 'dataHoraEnvio';
                inputDataHora.value = dataHoraAtualBrasilia;

                // Adiciona os campos ocultos ao formulário
                this.appendChild(inputDataHora);
            });
        });
    </script>
</body>

</html>